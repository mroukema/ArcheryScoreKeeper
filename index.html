<!doctype html>
<html class="mdc-typography">
  <head>
    <link rel="stylesheet" href="style.css" />
    <link
        rel="stylesheet"
        href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
  </head
  <body>
    <div id="elmMain"></div>
    <script src="elm.js"></script>
    <script src="src/js/main.js"></script>
    <script>
    (function () {
        var app = Elm.Main.init({
            node: document.getElementById('elmMain'),
            flags:
                [ "Galactic Empire"
                , "http://localhost:7500/ui/multi-site/dashboard/map"
                , "http://localhost:7500/ui/multi-site/dashboard/map"
                ]
            });

        app.ports.getClientBoundingBox.subscribe(function(elementId) {
          var queriedElement = document.getElementById(elementId);
          console.log("getClientBoundingBox()");
          if (!queriedElement) {
            console.error("Can't find " + elementId)
            return;
          }
          var boundingBox = queriedElement.getBoundingClientRect();

          if (!boundingBox) {
            console.error('No bBox for ' + elementId)
            return;
          }
          app.ports.boundingBoxResult.send(boundingBox);
        });
    })();
    </script>
  </body>
</html>
